let myCharts;const wheel=document.getElementById("wheel"),spinBtn=document.getElementById("spin-btn"),finalValue=document.getElementById("final-value");var finalNumber=0;function makeSpin(e){wheel.innerHTML="";const{val1:n,val3:t,val5:a,val7:l}=e,i=[{minDegree:0,maxDegree:45,value:l},{minDegree:46,maxDegree:90,value:"0"},{minDegree:91,maxDegree:135,value:a},{minDegree:136,maxDegree:180,value:"0"},{minDegree:181,maxDegree:225,value:t},{minDegree:226,maxDegree:270,value:"0"},{minDegree:271,maxDegree:315,value:n},{minDegree:316,maxDegree:360,value:"0"}];myCharts=new Chart(wheel,{plugins:[ChartDataLabels],type:"pie",data:{labels:[n,"0.00",t,"0.00",a,"0.00",l,"0.00"],datasets:[{backgroundColor:["#8d01f8","#ca016f","#fb3501","#fc9e02","#f1dc19","#62c52f","#0760ed","#2c13f8"],data:[16,16,16,16,16,16,16,16]}]},options:{responsive:!0,animation:{duration:0},plugins:{tooltip:!1,legend:{display:!1},datalabels:{color:"#ffffff",formatter:(e,n)=>n.chart.data.labels[n.dataIndex],font:{size:18},display:"none"}}}});var r=!1;let u=0;spinBtn.addEventListener("click",(function(){finalValue.innerHTML="Wait...",spinBtn.disabled=!0;const e=function(e=4e3,n=5e3){return Math.ceil(Math.random()*(n-e)+e)}();wheel.style.transform=`rotate(${e}deg)`,u+=e,setTimeout((()=>{(e=>{for(let n of i)if(e>=n.minDegree&&e<=n.maxDegree){finalValue.innerHTML=`<p>Value: ${n.value}</p>`,r=!0,spinBtn.disabled=!1,finalNumber=n.value;break}setTimeout((function(){r&&(submitWinner(),r=!1)}),500)})(u%360)}),16500)}))}window.addEventListener("load",(function(){makeSpin({val1:"25",val3:"60",val5:"130",val7:"240"})}));const wheel_input1=document.getElementById("wheel_input1"),wheel_input3=document.getElementById("wheel_input3"),wheel_input5=document.getElementById("wheel_input5"),wheel_input7=document.getElementById("wheel_input7"),field_val_form=document.getElementById("field_val_form");function submitWinner(){console.log(finalNumber)}field_val_form.addEventListener("submit",(e=>{wheel.style.transform="",wheel.style.transition="none",e.preventDefault(),myCharts.destroy(),makeSpin({val1:wheel_input1.value,val3:wheel_input3.value,val5:wheel_input5.value,val7:wheel_input7.value}),wheel.style.transition="transform 16s cubic-bezier(0.5, 0.25, 0.01, 1)"}));